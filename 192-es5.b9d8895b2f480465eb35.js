!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[192],{17192:function(t,r,a){a.r(r),a.d(r,{AlertModule:function(){return M}});var i,o=a(38583),l=a(3679),d=a(94318),c=a(68242),s=a(53302),m=a(35834),u=a(54655),h=a(37716),f=a(16738),p=a.n(f),b=a(92340),g=a(91841),v=((i=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"get",value:function(e){var t=this.prepareFiltro(e);return this.http.get("".concat(b.N.alerta.listar,"/").concat(t.inicio,"/").concat(t.final))}},{key:"prepareFiltro",value:function(e){return e||((e={}).inicioFormatado=p()(new Date),e.finalFormatado=p()(new Date).add(-3,"months")),{inicio:p()(null==e?void 0:e.inicio).format(b.N.format.data),final:p()(null==e?void 0:e.finalFormatado).format(b.N.format.data)}}}]),t}()).\u0275fac=function(e){return new(e||i)(h.\u0275\u0275inject(g.eN))},i.\u0275prov=h.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i),y=function(){var t=function(){function t(n){e(this,t),this.fb=n,this.loaded=!1,this.filtrar=new h.EventEmitter,this.today=new Date,this.lastMonth=p()(new Date).add(-1,"months").toDate(),this.createForm()}return n(t,[{key:"createForm",value:function(){this.form=this.fb.group({inicio:new l.NI(this.lastMonth),final:new l.NI(this.today)})}},{key:"onSubmit",value:function(){this.filtrar.emit(this.form.value)}},{key:"getStatus",value:function(e){return e.valid?"success":"danger"}},{key:"inicio",get:function(){return this.form.get("inicio")}},{key:"final",get:function(){return this.form.get("final")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.\u0275\u0275directiveInject(l.qu))},t.\u0275cmp=h.\u0275\u0275defineComponent({type:t,selectors:[["filtro"]],inputs:{loaded:"loaded"},outputs:{filtrar:"filtrar"},decls:18,vars:6,consts:[[3,"nbSpinner"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xl-6","col-md-6","col-12","form-group"],["nbInput","","fullWidth","","placeholder","Inicio",1,"form-control",3,"nbDatepicker","formControl"],["inicioPicker",""],["nbInput","","fullWidth","","placeholder","Final",1,"form-control",3,"nbDatepicker","formControl"],["finalPicker",""],[1,"offset-xl-9","col-xl-3","offset-md-8","col-md-4","col-12","form-group"],["fullWidth","","nbButton","","type","submit",1,"control-button","form-control"]],template:function(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"nb-accordion"),h.\u0275\u0275elementStart(1,"nb-accordion-item"),h.\u0275\u0275elementStart(2,"nb-accordion-item-header"),h.\u0275\u0275text(3," Filtros "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"nb-accordion-item-body",0),h.\u0275\u0275elementStart(5,"form",1),h.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit()}),h.\u0275\u0275elementStart(6,"div",2),h.\u0275\u0275elementStart(7,"div",3),h.\u0275\u0275element(8,"input",4),h.\u0275\u0275element(9,"nb-datepicker",null,5),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"div",3),h.\u0275\u0275element(12,"input",6),h.\u0275\u0275element(13,"nb-datepicker",null,7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(15,"div",8),h.\u0275\u0275elementStart(16,"button",9),h.\u0275\u0275text(17," Buscar "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&e){var n=h.\u0275\u0275reference(10),r=h.\u0275\u0275reference(14);h.\u0275\u0275advance(4),h.\u0275\u0275property("nbSpinner",!t.loaded),h.\u0275\u0275advance(1),h.\u0275\u0275property("formGroup",t.form),h.\u0275\u0275advance(3),h.\u0275\u0275property("nbDatepicker",n)("formControl",t.inicio),h.\u0275\u0275advance(4),h.\u0275\u0275property("nbDatepicker",r)("formControl",t.final)}},directives:[s.qCO,s.SaG,s.YZd,s.AvE,s.Q7R,l._Y,l.JL,l.sg,s.h8i,s.$kf,l.Fj,l.JJ,l.oH,s.B4C,s.DPz],encapsulation:2}),t}(),x=a(72191),S=function(){var t=function(){function t(n){e(this,t),this.theme=n,this.results=[],this.showLegend=!0,this.showXAxis=!0,this.showYAxis=!0,this.xAxisLabel="Produtos",this.yAxisLabel="Quantidade"}return n(t,[{key:"ngOnInit",value:function(){var e,t=this;null===(e=this.data)||void 0===e||e.forEach(function(e){t.results.push({name:e.titulo,value:e.valor})}),this.themeSubscription=this.theme.getJsTheme().subscribe(function(e){var n=e.variables;t.colorScheme={domain:[n.primaryLight,n.infoLight,n.successLight,n.warningLight,n.dangerLight]}})}},{key:"ngOnDestroy",value:function(){this.themeSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.\u0275\u0275directiveInject(s.WMF))},t.\u0275cmp=h.\u0275\u0275defineComponent({type:t,selectors:[["d3-bar-chart"]],inputs:{data:"data"},decls:1,vars:8,consts:[[3,"scheme","results","xAxis","yAxis","legend","legendTitle","xAxisLabel","yAxisLabel"]],template:function(e,t){1&e&&h.\u0275\u0275element(0,"ngx-charts-bar-vertical",0),2&e&&h.\u0275\u0275property("scheme",t.colorScheme)("results",t.results)("xAxis",t.showXAxis)("yAxis",t.showYAxis)("legend",t.showLegend)("legendTitle","Legenda")("xAxisLabel",t.xAxisLabel)("yAxisLabel",t.yAxisLabel)},directives:[x.K$],encapsulation:2}),t}();function k(e,t){if(1&e&&h.\u0275\u0275element(0,"d3-bar-chart",4),2&e){var n=h.\u0275\u0275nextContext();h.\u0275\u0275property("data",n.data.quantidadeAlertasGerados)}}function C(e,t){if(1&e&&h.\u0275\u0275element(0,"d3-bar-chart",4),2&e){var n=h.\u0275\u0275nextContext();h.\u0275\u0275property("data",n.data.quantidadePrimeiraPassagem)}}function w(e,t){if(1&e&&h.\u0275\u0275element(0,"d3-bar-chart",4),2&e){var n=h.\u0275\u0275nextContext();h.\u0275\u0275property("data",n.data.quantidadeEnviados)}}var E=[{path:"",component:function(){var t=function(){function t(n){e(this,t),this.service=n,this.loaded=!1}return n(t,[{key:"ngOnInit",value:function(){this.filtrar({})}},{key:"filtrar",value:function(e){var t=this;this.loaded=!1,this.service.get(e).subscribe(function(e){t.data=e,t.loaded=!0})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.\u0275\u0275directiveInject(v))},t.\u0275cmp=h.\u0275\u0275defineComponent({type:t,selectors:[["alert"]],decls:24,vars:4,consts:[[1,"row"],[1,"col-12"],[3,"loaded","filtrar"],[3,"data",4,"ngIf"],[3,"data"]],template:function(e,t){1&e&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"nb-card"),h.\u0275\u0275elementStart(3,"filtro",2),h.\u0275\u0275listener("filtrar",function(e){return t.filtrar(e)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"div",1),h.\u0275\u0275elementStart(5,"nb-card"),h.\u0275\u0275elementStart(6,"nb-card-header"),h.\u0275\u0275text(7,"Quantidade Alertas Gerados"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"nb-card-body"),h.\u0275\u0275template(9,k,1,1,"d3-bar-chart",3),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(10,"div",0),h.\u0275\u0275elementStart(11,"div",1),h.\u0275\u0275elementStart(12,"nb-card"),h.\u0275\u0275elementStart(13,"nb-card-header"),h.\u0275\u0275text(14,"Quantidade Alertas Primeira Passagem"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(15,"nb-card-body"),h.\u0275\u0275template(16,C,1,1,"d3-bar-chart",3),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"div",0),h.\u0275\u0275elementStart(18,"div",1),h.\u0275\u0275elementStart(19,"nb-card"),h.\u0275\u0275elementStart(20,"nb-card-header"),h.\u0275\u0275text(21,"Quantidade enviados"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(22,"nb-card-body"),h.\u0275\u0275template(23,w,1,1,"d3-bar-chart",3),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&e&&(h.\u0275\u0275advance(3),h.\u0275\u0275property("loaded",t.loaded),h.\u0275\u0275advance(6),h.\u0275\u0275property("ngIf",t.loaded),h.\u0275\u0275advance(7),h.\u0275\u0275property("ngIf",t.loaded),h.\u0275\u0275advance(7),h.\u0275\u0275property("ngIf",t.loaded))},directives:[s.Asz,y,s.ndF,s.yKW,o.O5,S],styles:[".nb-theme-default   [_nghost-%COMP%]   d3-bar-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-default   [_nghost-%COMP%]   d3-bar-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-dark   [_nghost-%COMP%]   d3-bar-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-dark   [_nghost-%COMP%]   d3-bar-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   d3-bar-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   d3-bar-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   d3-bar-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   d3-bar-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.full-name-inputs[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%]{display:flex;margin:0 -.5rem}.full-name-inputs[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 .5rem}"]}),t}()}],P=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=h.\u0275\u0275defineInjector({imports:[[u.Bz.forChild(E)],u.Bz]}),t}(),M=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=h.\u0275\u0275defineInjector({providers:[v],imports:[[l.u5,s.zyh,l.UX,P,m.H,s.oGl,s.OA,c.i,d.k.forChild({format:"dd MM yyyy"}),s.uuI,s.nKr,s.T2N,o.ez]]}),t}()}}])}();